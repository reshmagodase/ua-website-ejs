<header class="home header mobile">
  <div class="col-sm-12 text-vertical-center" style="background-color: white;">
    <h2 style="margin-top: 0;padding-top:0;color: black;">
      <br />
      LOA and Bill Upload
    </h2>
  </div>
</header>
<div class="container">
  <div class="col-sm-8 col-sm-offset-2">
    <div class="control-group" id="questionForm">
      <div class="controls">
        <div class="dropzone" style="color: #000;cursor: pointer;background-color: #fff;"
          id="myDropzone">
          <div class="dz-message needsclick text-center">
            <svg class="box__icon" xmlns="http://www.w3.org/2000/svg" width="50" height="43" viewBox="0 0 50 43">
              <path
                d="M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z">
              </path>
            </svg><br>
            Choose a file or drag it here.
          </div>
        </div>
        <span id="cvAttachment"></span>
      </div>
      <div class="controls ">
        <input class="form-control ng-pristine ng-valid" id="cvemail" ng-model="cvemail" name="cvemail"
          placeholder="Email" type="text">
        <span id="cvemailID"></span>
        <input type="hidden" name="cvpath" ng-model="cvpath" id="cvpathid">
        <!-- <input type="hidden" name="name" ng-model="name" id="nameid"> -->
      </div>
      <div class="controls ">
        <input class="form-control ng-pristine ng-valid" id="cvnameId" ng-model="name" name="name"
          placeholder="Company Name" type="text">
        <span id="cvnameID"></span>

      </div>


      <div class="control-group text-center">
        <div class="controls" style="padding-top:16px">
          <button type="submit" class="btnFindOutMore" ng-click="submitLOA();">Submit
          </button> <br>
          <img src="/img/whyua/loading-gif.gif" class="fa fa-spinner"></i>
        </div>
      </div>
    </div>
    <div id="stage" class="form-all">
      <p style="text-align:center;">
        <img src="img/check-icon.png" alt="" width="128" height="128">
      </p>

      <div style="text-align:center;">
        <h1 style="text-align: center;">Thank You!</h1>

        <p style="text-align: center;">We've received your LOA! Our team will respond you as soon
          as possible.
        </p>
      </div>
    </div>
  </div>
</div>

<style>
  p {
    text-align: justify;
  }

  .fa-spinner {
    display: none;
    width: 50px;
  }

  .blogs a {
    text-decoration: none;
  }

  .blogs a:hover .details p {
    color: white !important;
  }

  .blogs a:hover .innerblog {
    background-color: #3697C2;
  }

  .blogs a:hover h2 {
    color: white !important;
  }

  .blogs {
    background-color: #23527c;
    color: #fff;
  }

  .btnFindOutMore {
    text-decoration: none;
    color: #fff;
    padding: 3px 10px;
    border: 6px solid #fff;
    border-radius: 20px;
    font-size: 18px;
    background-color: #23527c;
  }

  .btnFindOutMore:hover {
    text-decoration: none;
    color: #fff;
    padding: 3px 10px;
    border: 6px solid #fff;
    border-radius: 20px;
    font-size: 18px;
    background-color: #23527c;
  }

  .btnFindOutMore2 {
    text-decoration: none;
    color: #23527c;
    padding: 3px 10px;
    border: 6px solid #23527c;
    border-radius: 20px;
    font-size: 18px;
    background-color: #f2f2f2;
  }

  .justify {
    text-align: justify;
  }

  g {
    display: none;
  }

  .dz-upload {
    /* display: block;
    background-color: #3496C1;
    height: 10px;
    width: 0%; */
    background-color: white;
    outline: 2px dashed black;
    outline-offset: -10px;
  }

  .dropzone {
    background-color: white;
    outline: 2px dashed black;
    outline-offset: -10px;
    padding: 100px;
  }

  .controls {
    padding-bottom: 15px;
  }

  .errorlist {
    margin-top: 3px;
    margin-bottom: 0px;
    color: red;
    font-size: 12px;
  }

  @media (max-width: 767px) {

    .container-fluid,
    .container {
      padding: 40px 20px;
      padding-top: 10px;
    }

    .mobile {
      text-align: center;
    }
    .dropzone {
      padding: 40px;
    }
  }

  .box.has-advanced-upload .box__icon {
    width: 100%;
    height: 80px;
    fill: #92b0b3;
    display: block;
    margin-bottom: 40px;
  }
</style>

<script>
  window.onload = function () {

    loadJs(
      "https://cdnjs.cloudflare.com/ajax/libs/dropzone/4.2.0/min/dropzone.min.js"
    );
  }

  setTimeout(function () {
    var myDropzone = new Dropzone("div#myDropzone", {

      paramName: "file",
      // Prevents Dropzone from uploading dropped files immediately
      autoProcessQueue: true,
      maxFiles: 1,
      maxFileSize: 2, //MB
      dictDefaultMessage: "<h3>Click or Drop files here to upload</h3>",
      acceptedFiles: 'image/jpeg,image/png,image/gif,image/jpg,application/pdf',
      url: "/uploadLOA",
      init: function () {
        this.hiddenFileInput.removeAttribute('multiple');
        myDropzone = this; // closure
        // You might want to show the submit button only when
        // files are dropped here:
        this.on('sending', function (file, xhr, formData) {


        });

        this.on("addedfile", function () {
          dropzoneFileAdded = 'YES';

          // console.log("added file");
          // Show submit button here and/or inform user to click it.
        });


        this.on("success", function (file, responseText) {
          console.log('responseText', responseText);
          $("#newsImage").html("<img src='" + responseText.path + "' height=200px/>")
          $("#cvpathid").val(responseText.path);
          $("#cvname").val(responseText.name);
          $("#cvAttachment").html("");
          // Handle the responseText here. For example, add the text to the preview element:

          //alert("User Image Uploaded Successfully");


        });



      }

    });
  }, 2000)
</script>